EDUONE CORE
=======

Core важная часть проекта, внутри хранятся основные модельки, такие как User, Сourse, Lessons, Categories и т.п.

Описание: 
1. Приложение на FastAPI с postgres. Живет на 8000 порту, Swagger настроен по адресу /core/docs, в Swagger не работает кнопочка Authorize(пришлось переопределять библиотеку fastapi_users), на уровне проекта получение токена работает корректно.
2. Core принимает львиную часть запросов. Лучше его не перегружать.
3. В папке middleware организованы проверки для остальных микросервисов и проверки суперюзера и т.п.
4. Также организована автоматическая выдача достижений(achievements).
5. Миграции реализуются с помощью alembic, версии хранятся в папке alembic/versions.
6. Все переменные хранятся в config.py, но возьмите во внимание что часть переменных переопределяется в конфигурации k8s.
7. Файл app/base.py используется для alembic миграций, не удалять.
8. Для пагинации используется библиотека fastapi_pagination, для использования была переопределена в app/pagination.py и так во всех микросервисах.
9. Redis используется для быстрой передачи данных, таких как количество подписанных и подписчиков и т.п.
10. Core не будет работать корректно без сервиса elasticsearch, мы сохраняем все данные внутри elasticsearch путем передачи данных при создании.
11. Тесты не реализованы, была проблема с override_dependencies от fastapi, чтобы написать тесты, нужно создать отдельный сервис с тестами.
12. Тэги и категории очень похожи, разница в том, что категории могут добавлять только админы а теги могут добавлять пользователи и прикреплять к ним уроки и т.п..
13. Организован автодеплой приложения(Деплой на K8s см. в README.md eduone-kubernetes).
---

